

# 整体需求
- 以google play作为主站，抓取应用商店的应用程序信息
- 将应用程序具体信息存储在本地
- 仿造apkpure.com 在openthos应用商店中将应用程序分类存放

# 具体需求
- 1、google play应用商店应用是按照分类来进行存放，如下图：
     ![blockchain](https://github.com/Midysen/googleplay/blob/master/%E7%B1%BB%E5%88%AB.png)
   - 为了方便openthos应用商店处理应用信息，目前是按照分类抓取，抓取的信息存在于本地数据库Mongodb中
- 2、每个分类下面对应一个分类的子页面，里面包括此类的所有应用，需要将每个分类对应的子页面的所有应用程序全部获得到
- 3、根据分类页面中每个应用程序的地址，链接到每个应用程序的具体信息页面
- 4、根据每个应用程序的具体页面，获得到每个应用程序的具体信息，包括：
   - apk_name 应用程序名称
   - apk_star 应用程序评分
   - apk_icon 应用程序图标                          此处获得的是链接地址，如果需要图片本身可以存在于本地
   - apk_review 应用程序介绍信息
   - apk_img 应用程序介绍图片                         此处获得的是链接地址，如果需要图片本身可以存在于本地
   - apk_movie 应用程序的介绍视频                     此处获得的是链接地址，目前还没验证是否可以存在于本地
   - apk_downurl 应用程序安装地址                     此处获得的是链接地址
   
- 5、关于apk文件获得的具体说明
   - 在爬取应用程序信息中，应用程序的安装文件无法直接获得，得到的只是一个安装地址，必须在某一台搭载openthos系统的设备中，使用google 账号登录google play，并且完成一次应用程序的下载安装，才可以获得到apk。
   - google play会记录已经登录并安装过应用程序的设备信息，后续在应用页面点击“安装”按钮时，会将适应此设备的应用程序推送安装到相应设备
   - 当在浏览器中粘贴安装地址时，必须重新输入google账号密码才可以完成安装
   - 安装时，google play会将应用程序推送到之前登录安装过的设备，而不是直接下载apk文件
   - 安装后，在之前登录过google play的openthos系统设备的/data/app目录下，可以拿到apk文件



# 目前实现的功能：

- 目前已经实现google play应用程序信息的抓取，包括应用程序名称、评分、介绍、图标以及应用程序安装地址，储存在本地数据库mongodb中，可供后期使用
- 关于应用程序安装包，目前可以通过以下方式实现：在某一搭载openthos系统的pc上登录google play账号，并且通过google play商店安装过应用的前提下，根据抓取到的下载地址，通过浏览器点击下载匹配此设备的应用；此应用对应的apk文件会存储在/data/app下，可以拿到，目前测试没有问题

# 关于后续的进程：
- 完成google play自动化登录
- 模拟按钮点击事件，完成“安装”点击
- 解析出已经下载的apk信息，将数据库中的信息以及apk安装包放到解析出的每个应用程序包名命名的目录下，再推送给服务器，由服务器根据openthos应用商店的规则来处理
